<!-- <p>form-page works!</p> -->

@if (!isLoading()) {
    
    <div class="main_container">
        <div class="left_block">

            <img src="logo.png" class="logo">
            <div>
                <p class="text_info">
                    Fill out the form to start the game
                </p>

                <!-- <form [formGroup]="userForm" (ngSubmit)="onSubmit()"> -->
                <form [formGroup]="userForm">

                    <div class="form-control">
                        <label for="firstName">
                            First Name
                            @if (userForm.get('firstName')?.hasError('required') && (userForm.get('firstName')?.dirty || userForm.get('firstName')?.touched)) {
                                <div style="color: red; float: right; margin-left: 10px;">Required!</div>
                            }
                        </label>
                        <input id="firstName" type="text" formControlName="firstName">
                    </div>
                    <p></p>
                    <!-- <p>Value: {{ userForm.value.firstName }}</p> -->

                    <div class="form-control">
                        <label for="lastName">Last Name</label>
                        <input id="lastName" type="text" formControlName="lastName">
                    </div>
                    <p></p>
                    <!-- <p>Value: {{ userForm.value.lastName }}</p> -->

                    <div class="form-control">
                        <label for="email">
                            Email
                            @if (userForm.get('email')?.invalid && (userForm.get('email')?.dirty || userForm.get('email')?.touched)) {
                                <div style="color: red; float: right; margin-left: 10px;">
                                    @if (userForm.get('email')?.hasError('required')) {
                                        Required!
                                    } @else if(userForm.get('email')?.hasError('email')) {
                                        Not valid email!
                                    }
                                </div>
                            }
                        </label>
                        <input id="email" type="text" formControlName="email">
                    </div>
                    <p></p>
                    <!-- <p>Value: {{ userForm.value.email }}</p> -->

                    @if (userForm.get('sphere')?.hasError('required') && (userForm.get('sphere')?.dirty || userForm.get('sphere')?.touched)) {
                        <div style="color: red;">Не должно быть пустым!</div>
                    }
                    <label for="sphere">Select Your Industry</label>
                    <select id="sphere" formControlName="sphere">
                        <option value="AFFILIATE">AFFILIATE</option>
                        <option value="PSP">PSP</option>
                        <option value="MARKETING">MARKETING</option>
                        <option value="PLATFORMS">PLATFORMS</option>
                        <option value="B2B">B2B</option>
                        <option value="OTHER">OTHER</option>
                    </select>
                    <p></p>

                    @if (userForm.get('agreement')?.hasError('required') && (userForm.get('agreement')?.dirty || userForm.get('agreement')?.touched)) {
                        <div style="color: red;">Дайте согласие!</div>
                    }
                    <label for="agreement">Согласен на обработку персональных данных</label><br>
                    <input id="agreement" type="checkbox" formControlName="agreement">
                    <p></p>

                    <!-- <p>Form Status: {{ userForm.status }}</p> -->
                    <button type="button" (click)="onSubmit()" [disabled]="!userForm.valid">Далее</button>
                </form>
            </div>
            
            <img src="text_accept.png" class="text_accept">


        </div>
        <div class="right_block">
        </div>
    </div>


} @else {
    <div>Ожидайте...</div>
}

